var PromiseObject = require('./lib/promise-object');
//var when = require('when');

var MixinOne = {
	initialize: function () {

		console.log('MixinOne');
	}
};

var MixinTwo = {
	initialize: function () {
		console.log('MixinTwo');
	}
};

var Mixin =  {
	initialize: function () {
		this._tags = [];
	},
	
	hasTag: function (tag) {
		return this._tags.indexOf(tag) !== -1;
	},

	addTag: function (tag) {
		if (this.hasTag(tag)) return;
		
		this._tags.push(tag);
	}
};

var User = PromiseObject.create(MixinOne, Mixin, {
	initialize: function () {
		this.addTag('tests');
		console.log(this.hasTag('test'));
	},

	getSomething: function ($deferred) {
		setTimeout(function () {
			$deferred.resolve();
		}, 100);
	}
});

var user = new User();
